# 04_EDA.rmd
# Data Exploration (EDA)

## Summary of the training dataset
First, it is important to identify and understand the attributes of the dataset. Exploratory data analysis was performed on the training dataset and was found to have no missing values. The attributes of the training dataset are outlined below

| Column name                  | Description                                  | Type       | Values                              |
| ---------------------------- | ------------------------------------------- | ----------- |  ---------------------------------- |
| Wife age                     | Wife's age                                  | Numerical   | any positive values                 |
| Wife education               | Wife's education                            | Categorical | 1=low, 2, 3, 4=high                 |
| Husband education            | Husband's education                         | Categorical | 1=low, 2, 3, 4=high                 |
| Number of children ever born | Number of children ever born                | Numerical   | any positive values                 |
| Wife religion                | Wife's religion                             | Binary      | 0=Non-Islam, 1=Islam                |
| Wife now working?            | Is wife working or not                      | Binary      | 0=Yes, 1=No                         |
| Husband occupation           | Husband's occupation                        | Categorical | 1, 2, 3, 4                          |
| Standard-of-living index     | Standard-of-living Index                    | Categorical | 1=low, 2, 3, 4=high                 |
| Media Exposure               | Media exposure                              | Binary      | 0=Good, 1=Not good                  |
| Contraceptive method used    | Contraceptive method used (Class Attribute) | Categorical | 1=No-use, 2=Long-term, 3=Short-term |

```{python, include=TRUE}
import pandas as pd
train_df = pd.read_csv(
    "../data/processed/train.csv"
)
train_df.info()
```

## Distribution of target class
From the histogram \@ref(fig:histTarget) it can be observed that the target class is imbalanced - with 1 (No-use) being the most observed value, followed by 3 (Short-term) and 2 (Long-term). However, it is not immediately necessary to over- or under-sample the data in our analysis. Our intent here is to first explore the dataset and create the model.

```{r histTarget, echo=FALSE, fig.cap="Histogram of the Contraceptive Method used (target class)", out.width = '50%'}
knitr::include_graphics("../results/histogram_target.png")
```

<<<<<<< HEAD
## Histogram of all numerical features
From the distributions in the histogram \@ref(fig:histNum), it can be observed that the data is skewed to the right. This can be attributed to significantly higher numbers of wives who are between 28 to 38 years old than those with ages higher than 38 years, and that most of the wives have two to three kids on average. 
=======
## Numerical features
From the distributions in the histogram \@ref(fig:histNum), it can be observed that the data is skewed to the right. This can be attributed to significantly higher numbers of wives who are between 28 to 38 years old than those with ages higher than 38 years, and that most of the wives have two to three kids on average. 

>>>>>>> 415ea14d0397fd3bfa49bd45949c09eaeeb3a5c5

```{r histNum, echo=FALSE, fig.cap="Histogram of all numerical features", out.width = '100%'}
knitr::include_graphics("../results/histogram_numerical.png")
```

<<<<<<< HEAD
## Histogram of all non-numerical features
From the histogram \@ref(fig:countCat), it can be observed that a majority of the responses / observations in the survey are from women having high levels of education, religious beliefs, with educated partners and with a high standard of living. 
=======
## Non-numerical features
From the histogram \@ref(fig:countCat), it can be observed that a majority of the responses / observations in the survey are from women having high levels of education, religious beliefs, with educated partners and with a high standard of living. 

>>>>>>> 415ea14d0397fd3bfa49bd45949c09eaeeb3a5c5
```{r countCat, echo=FALSE, fig.cap="Histogram of all non-numeric features", out.width = '100%'}
knitr::include_graphics("../results/histogram_categorical.png")
```

## Relation betweeen target and non-numerical features
From the figure \@ref(fig:countCatByTarget), it can be observed that most of the observations of target class 1 (no contraception) rest on certain categorical values. However, as we had earlier pointed out the imbalance in the distribution of class values, we cannot imply correlation. 

```{r countCatByTarget, echo=FALSE, fig.cap="Counting Combinations of all categorical features by the target class", out.width = '100%'}
knitr::include_graphics("../results/counts_categorical_by_target.png")
```